{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"C:/Users/Brand/Dev/VotingApp/VotingApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Brand/Dev/VotingApp/VotingApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/Brand/Dev/VotingApp/VotingApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/Brand/Dev/VotingApp/VotingApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Brand/Dev/VotingApp/VotingApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Link}from'react-router-dom';import jwt_decode from\"jwt-decode\";var Navbar=/*#__PURE__*/function(_React$Component){_inherits(Navbar,_React$Component);var _super=_createSuper(Navbar);function Navbar(){var _this;_classCallCheck(this,Navbar);_this=_super.call(this);_this.state={username:null,loggedIn:localStorage.getItem('token')?true:false};_this.handleLogout=_this.handleLogout.bind(_assertThisInitialized(_this));return _this;}_createClass(Navbar,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.state.loggedIn){var token=localStorage.getItem('token');var decodedToken=jwt_decode(token);this.setState({username:decodedToken[\"username\"]});}}},{key:\"handleLogout\",value:function handleLogout(){localStorage.removeItem('token');this.setState({loggedIn:false,username:null});}},{key:\"render\",value:function render(){var username=this.state.username;return/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"}),username?/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:username}),/*#__PURE__*/_jsx(\"li\",{onClick:this.handleLogout,children:/*#__PURE__*/_jsx(Link,{children:\"Log out\"})})]}):/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Log in\"})})]})]});}}]);return Navbar;}(React.Component);export default Navbar;","map":{"version":3,"sources":["C:/Users/Brand/Dev/VotingApp/VotingApp/frontend/src/components/Navbar.js"],"names":["React","Link","jwt_decode","Navbar","state","username","loggedIn","localStorage","getItem","handleLogout","bind","token","decodedToken","setState","removeItem","Component"],"mappings":"s5BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,C,GAEMC,CAAAA,M,4GACF,iBAAc,wCACV,wBACA,MAAKC,KAAL,CAAa,CACTC,QAAQ,CAAE,IADD,CAETC,QAAQ,CAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,EAAgC,IAAhC,CAAuC,KAFxC,CAAb,CAIA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CANU,aAOb,C,gFAEmB,CAChB,GAAI,KAAKN,KAAL,CAAWE,QAAf,CAAyB,CACrB,GAAMK,CAAAA,KAAK,CAAGJ,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CACA,GAAMI,CAAAA,YAAY,CAAGV,UAAU,CAACS,KAAD,CAA/B,CACA,KAAKE,QAAL,CAAc,CAAER,QAAQ,CAAEO,YAAY,CAAC,UAAD,CAAxB,CAAd,EACH,CACJ,C,mDAEc,CACXL,YAAY,CAACO,UAAb,CAAwB,OAAxB,EACA,KAAKD,QAAL,CAAc,CACVP,QAAQ,CAAE,KADA,CAEVD,QAAQ,CAAE,IAFA,CAAd,EAIH,C,uCAEQ,CACL,GAAMA,CAAAA,QAAQ,CAAG,KAAKD,KAAL,CAAWC,QAA5B,CACA,mBACI,oCACI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,kBADJ,CAEKA,QAAQ,cACL,mCACI,oBAAKA,QAAL,EADJ,cAEI,WAAI,OAAO,CAAE,KAAKI,YAAlB,uBAAgC,KAAC,IAAD,sBAAhC,EAFJ,GADK,cAOL,mCACI,iCAAI,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,sBAAJ,EADJ,cAEI,iCAAI,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,oBAAJ,EAFJ,GATR,GADJ,CAiBH,C,oBA7CgBT,KAAK,CAACe,S,EAgD3B,cAAeZ,CAAAA,MAAf","sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport jwt_decode from \"jwt-decode\"\r\n\r\nclass Navbar extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            username: null,\r\n            loggedIn: localStorage.getItem('token') ? true : false,\r\n        }\r\n        this.handleLogout = this.handleLogout.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.state.loggedIn) {\r\n            const token = localStorage.getItem('token')\r\n            const decodedToken = jwt_decode(token)\r\n            this.setState({ username: decodedToken[\"username\"] })\r\n        }\r\n    }\r\n\r\n    handleLogout() {\r\n        localStorage.removeItem('token')\r\n        this.setState({\r\n            loggedIn: false,\r\n            username: null,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const username = this.state.username\r\n        return (\r\n            <nav>\r\n                <Link to=\"/\">Home</Link>\r\n                {username ?\r\n                    <ul>\r\n                        <li>{username}</li>\r\n                        <li onClick={this.handleLogout}><Link>Log out</Link></li>\r\n                    </ul>\r\n                    :\r\n\r\n                    <ul>\r\n                        <li><Link to=\"/register\">Register</Link></li>\r\n                        <li><Link to=\"/login\">Log in</Link></li>\r\n                    </ul>\r\n                }\r\n            </nav>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Navbar"]},"metadata":{},"sourceType":"module"}