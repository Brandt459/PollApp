{"code":"(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},38:function(e,t,n){\"use strict\";n.r(t);var a=n(0),s=n(1),r=n.n(s),o=n(14),l=n.n(o),i=(n(30),n(31),n(32),n(8)),c=n(2),d=n(9),h=n(10),u=n(4),j=n(12),b=n(11),p=n(23),m=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).state={username:null,loggedIn:!!localStorage.getItem(\"token\")},e.handleLogout=e.handleLogout.bind(Object(u.a)(e)),e}return Object(h.a)(n,[{key:\"componentDidMount\",value:function(){if(this.state.loggedIn){var e=localStorage.getItem(\"token\"),t=Object(p.a)(e);this.setState({username:t.username})}}},{key:\"handleLogout\",value:function(){localStorage.removeItem(\"token\"),this.setState({loggedIn:!1,username:null})}},{key:\"render\",value:function(){var e=this.state.username;return Object(a.jsxs)(\"nav\",{children:[Object(a.jsx)(i.b,{to:\"/\",children:\"Home\"}),e?Object(a.jsxs)(\"ul\",{children:[Object(a.jsx)(\"li\",{children:e}),Object(a.jsx)(\"li\",{onClick:this.handleLogout,children:Object(a.jsx)(i.b,{children:\"Log out\"})})]}):Object(a.jsxs)(\"ul\",{children:[Object(a.jsx)(\"li\",{children:Object(a.jsx)(i.b,{to:\"/register\",children:\"Register\"})}),Object(a.jsx)(\"li\",{children:Object(a.jsx)(i.b,{to:\"/login\",children:\"Log in\"})})]})]})}}]),n}(r.a.Component),O=n(21),g=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).state={pollList:null},e.updatePoll=e.updatePoll.bind(Object(u.a)(e)),e.handleClick=e.handleClick.bind(Object(u.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(u.a)(e)),e}return Object(h.a)(n,[{key:\"componentDidMount\",value:function(){var e=this;fetch(\"http://127.0.0.1:8000/api/poll-list/\").then((function(e){return e.json()})).then((function(e){return console.log(e)})).then((function(t){return e.setState({pollList:t})}))}},{key:\"updatePoll\",value:function(e){var t=this;e.preventDefault();var n=l.a.findDOMNode(e.target).parentNode.parentNode.getAttribute(\"id\"),a=this.state.pollList[n];a[e.target.name]=a[e.target.name]+1,fetch(\"http://127.0.0.1:8000/api/update/\".concat(a.id,\"/\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){var a=Object(O.a)(t.state.pollList);a[n]=e,t.setState({pollList:a})}))}},{key:\"handleClick\",value:function(e){this.updatePoll(e),e.target.classList.add(\"active\"),console.log(e.target.nextElementSibling),l.a.findDOMNode(e.target).parentNode.parentNode.classList.add(\"voted\"),l.a.findDOMNode(e.target).parentNode.querySelectorAll(\"button\").forEach((function(e){return e.disabled=!0}))}},{key:\"handleSubmit\",value:function(e){var t=this;e.preventDefault(),fetch(\"http://127.0.0.1:8000/api/create-poll/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({title:e.target.querySelector(\"#form-title\").value,option1:e.target.querySelector(\"#form-option1\").value,option2:e.target.querySelector(\"#form-option2\").value})}).then((function(e){return e.json()})).then((function(e){t.setState({pollList:[].concat(Object(O.a)(t.state.pollList),[e])})}))}},{key:\"render\",value:function(){var e=this,t=this.state.pollList;try{return Object(a.jsxs)(\"div\",{children:[!localStorage.getItem(\"token\")&&Object(a.jsx)(\"div\",{className:\"login-statement\",children:Object(a.jsx)(\"h1\",{children:\"Log in to vote and create polls\"})}),localStorage.getItem(\"token\")&&Object(a.jsxs)(\"div\",{className:\"poll-create\",children:[Object(a.jsx)(\"h1\",{children:\"Create a poll: \"}),Object(a.jsxs)(\"form\",{onSubmit:this.handleSubmit,className:\"poll-form\",children:[Object(a.jsx)(\"input\",{style:{flex:3},type:\"text\",id:\"form-title\",placeholder:\"Create a poll\"}),Object(a.jsx)(\"input\",{style:{flex:3},type:\"text\",id:\"form-option1\",placeholder:\"Option 1\"}),Object(a.jsx)(\"input\",{style:{flex:3},type:\"text\",id:\"form-option2\",placeholder:\"Option 2\"}),Object(a.jsx)(\"input\",{style:{flex:1},type:\"submit\",id:\"form-submit\",placeholder:\"Submit\"})]})]}),Object(a.jsx)(\"div\",{className:\"polls\",children:t.map((function(n){return Object(a.jsxs)(\"div\",{className:\"poll\",id:t.indexOf(n),children:[Object(a.jsx)(\"h1\",{className:\"poll-title\",children:n.title}),Object(a.jsxs)(\"div\",{className:\"poll-options\",children:[Object(a.jsx)(\"button\",{onClick:e.handleClick,name:\"option1total\",className:\"poll-button\",disabled:!localStorage.getItem(\"token\"),children:n.option1}),Object(a.jsx)(\"button\",{onClick:e.handleClick,name:\"option2total\",className:\"poll-button\",disabled:!localStorage.getItem(\"token\"),children:n.option2})]}),Object(a.jsxs)(\"div\",{className:\"poll-results\",children:[Object(a.jsx)(\"p\",{children:\"Total votes: \"}),Object(a.jsx)(\"div\",{className:\"votes-container\",children:Object(a.jsxs)(\"div\",{className:\"votes\",children:[Object(a.jsx)(\"p\",{children:n.option1total}),Object(a.jsx)(\"p\",{children:n.option2total})]})})]})]})}))})]})}catch(n){return Object(a.jsx)(\"h1\",{children:\"Loading...\"})}}}]),n}(r.a.Component);var x=function(){return Object(a.jsxs)(\"div\",{children:[Object(a.jsx)(m,{}),Object(a.jsx)(g,{})]})},f=n(16),v=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).state={username:null,password:null,redirect:!1,error:!1},e.handleSubmit=e.handleSubmit.bind(Object(u.a)(e)),e.handleChange=e.handleChange.bind(Object(u.a)(e)),e}return Object(h.a)(n,[{key:\"handleSubmit\",value:function(e){var t=this;e.preventDefault(),fetch(\"http://127.0.0.1:8000/api/users/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:this.state.username,password:this.state.password})}).then((function(e){return e.json()})).then((function(e){e.token?(localStorage.setItem(\"token\",e.token),t.setState({redirect:!0})):t.setState({error:!0})}))}},{key:\"handleChange\",value:function(e){e.preventDefault(),this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:\"render\",value:function(){return this.state.redirect?Object(a.jsx)(c.a,{to:\"/\"}):Object(a.jsxs)(\"div\",{children:[Object(a.jsx)(m,{}),Object(a.jsxs)(\"div\",{className:\"register-container\",children:[Object(a.jsx)(\"h1\",{children:\"REGISTER\"}),this.state.error&&Object(a.jsx)(\"h2\",{className:\"register-error\",children:\"Username already exists!\"}),Object(a.jsx)(\"div\",{className:\"form-container\",children:Object(a.jsxs)(\"form\",{onSubmit:this.handleSubmit,className:\"register-form\",children:[Object(a.jsx)(\"input\",{type:\"text\",name:\"username\",onChange:this.handleChange,placeholder:\"Username\"}),Object(a.jsx)(\"input\",{type:\"password\",name:\"password\",onChange:this.handleChange,placeholder:\"Password\"}),Object(a.jsx)(\"div\",{className:\"register-form-submit\",children:Object(a.jsx)(\"input\",{type:\"submit\",value:\"REGISTER\"})})]})})]})]})}}]),n}(r.a.Component),S=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).state={username:null,password:null,loggedin:!1,error:!1},e.handleSubmit=e.handleSubmit.bind(Object(u.a)(e)),e.handleChange=e.handleChange.bind(Object(u.a)(e)),e}return Object(h.a)(n,[{key:\"handleSubmit\",value:function(e){var t=this;e.preventDefault(),fetch(\"http://127.0.0.1:8000/api/token-auth/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:this.state.username,password:this.state.password})}).then((function(e){return e.json()})).then((function(e){try{e.user.username&&(localStorage.setItem(\"token\",e.token),localStorage.setItem(\"user\",e.user.username),t.setState({loggedin:!0}))}catch(n){t.setState({error:!0})}}))}},{key:\"handleChange\",value:function(e){e.preventDefault(),this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:\"render\",value:function(){return this.state.loggedin?Object(a.jsx)(c.a,{to:\"/\"}):Object(a.jsxs)(\"div\",{children:[Object(a.jsx)(m,{}),Object(a.jsxs)(\"div\",{className:\"register-container\",children:[Object(a.jsx)(\"h1\",{children:\"LOG IN\"}),this.state.error&&Object(a.jsx)(\"h2\",{className:\"register-error\",children:\"Username already exists!\"}),Object(a.jsx)(\"div\",{className:\"form-container\",children:Object(a.jsxs)(\"form\",{onSubmit:this.handleSubmit,className:\"register-form\",children:[Object(a.jsx)(\"input\",{type:\"text\",name:\"username\",onChange:this.handleChange,placeholder:\"Username\"}),Object(a.jsx)(\"input\",{type:\"password\",name:\"password\",onChange:this.handleChange,placeholder:\"Password\"}),Object(a.jsx)(\"div\",{className:\"register-form-submit\",children:Object(a.jsx)(\"input\",{type:\"submit\",value:\"LOG IN\"})})]})})]})]})}}]),n}(r.a.Component),y=!!localStorage.getItem(\"token\");l.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(i.a,{children:Object(a.jsxs)(c.d,{children:[Object(a.jsx)(c.b,{exact:!0,path:\"/\",component:x}),Object(a.jsx)(c.b,{exact:!0,path:\"/register\",component:v,children:y&&Object(a.jsx)(c.a,{to:\"/\"})}),Object(a.jsx)(c.b,{exact:!0,path:\"/login\",component:S,children:y&&Object(a.jsx)(c.a,{to:\"/\"})})]})})}),document.getElementById(\"root\"))}},[[38,1,2]]]);","name":"static/js/main.bcf93e34.chunk.js","map":{"version":3,"sources":["static/js/main.bcf93e34.chunk.js"],"names":["this","push","30","module","exports","__webpack_require__","31","32","38","__webpack_exports__","r","jsx_runtime","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","classCallCheck","createClass","assertThisInitialized","inherits","createSuper","jwt_decode_esm","components_Navbar","_React$Component","Object","Navbar","_super","_this","call","state","username","loggedIn","localStorage","getItem","handleLogout","bind","key","value","token","decodedToken","setState","removeItem","children","to","onClick","a","Component","toConsumableArray","components_Polls","Polls","pollList","updatePoll","handleClick","handleSubmit","_this2","fetch","then","response","json","data","console","log","e","_this3","preventDefault","index","findDOMNode","target","parentNode","getAttribute","poll","name","concat","method","headers","Content-Type","body","JSON","stringify","polls","classList","add","nextElementSibling","querySelectorAll","forEach","button","disabled","_this4","title","querySelector","option1","option2","_this5","className","onSubmit","style","flex","type","id","placeholder","map","indexOf","_unused","home","defineProperty","pages_register","Register","password","redirect","error","handleChange","setItem","onChange","login","Login","loggedin","user","render","StrictMode","exact","path","component","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpfrontend\"] = this[\"webpackJsonpfrontend\"] || []).push([[0],{\n\n/***/ 30:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 31:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 32:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 38:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(14);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/css/polls.css\nvar css_polls = __webpack_require__(30);\n\n// EXTERNAL MODULE: ./src/css/navbar.css\nvar navbar = __webpack_require__(31);\n\n// EXTERNAL MODULE: ./src/css/register.css\nvar register = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js + 4 modules\nvar createSuper = __webpack_require__(11);\n\n// EXTERNAL MODULE: C:/Users/Brand/node_modules/jwt-decode/build/jwt-decode.esm.js\nvar jwt_decode_esm = __webpack_require__(23);\n\n// CONCATENATED MODULE: ./src/components/Navbar.js\nvar Navbar_Navbar=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Navbar,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Navbar);function Navbar(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Navbar);_this=_super.call(this);_this.state={username:null,loggedIn:localStorage.getItem('token')?true:false};_this.handleLogout=_this.handleLogout.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));return _this;}Object(createClass[\"a\" /* default */])(Navbar,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.state.loggedIn){var token=localStorage.getItem('token');var decodedToken=Object(jwt_decode_esm[\"a\" /* default */])(token);this.setState({username:decodedToken[\"username\"]});}}},{key:\"handleLogout\",value:function handleLogout(){localStorage.removeItem('token');this.setState({loggedIn:false,username:null});}},{key:\"render\",value:function render(){var username=this.state.username;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"nav\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",children:\"Home\"}),username?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:username}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{onClick:this.handleLogout,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{children:\"Log out\"})})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/register\",children:\"Register\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/login\",children:\"Log in\"})})]})]});}}]);return Navbar;}(react_default.a.Component);/* harmony default export */ var components_Navbar = (Navbar_Navbar);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 5 modules\nvar toConsumableArray = __webpack_require__(21);\n\n// CONCATENATED MODULE: ./src/components/Polls.js\nvar Polls_Polls=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Polls,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Polls);function Polls(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Polls);_this=_super.call(this);_this.state={pollList:null};_this.updatePoll=_this.updatePoll.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.handleClick=_this.handleClick.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.handleSubmit=_this.handleSubmit.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));return _this;}Object(createClass[\"a\" /* default */])(Polls,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('http://127.0.0.1:8000/api/poll-list/').then(function(response){return response.json();}).then(function(data){return console.log(data);}).then(function(data){return _this2.setState({pollList:data});});}},{key:\"updatePoll\",value:function updatePoll(e){var _this3=this;e.preventDefault();var index=react_dom_default.a.findDOMNode(e.target).parentNode.parentNode.getAttribute(\"id\");var poll=this.state.pollList[index];poll[e.target.name]=poll[e.target.name]+1;fetch(\"http://127.0.0.1:8000/api/update/\".concat(poll[\"id\"],\"/\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(poll)}).then(function(response){return response.json();}).then(function(data){var polls=Object(toConsumableArray[\"a\" /* default */])(_this3.state.pollList);polls[index]=data;_this3.setState({pollList:polls});});}},{key:\"handleClick\",value:function handleClick(e){this.updatePoll(e);e.target.classList.add(\"active\");console.log(e.target.nextElementSibling);react_dom_default.a.findDOMNode(e.target).parentNode.parentNode.classList.add(\"voted\");var buttons=react_dom_default.a.findDOMNode(e.target).parentNode.querySelectorAll('button');buttons.forEach(function(button){return button.disabled=true;});}},{key:\"handleSubmit\",value:function handleSubmit(e){var _this4=this;e.preventDefault();fetch('http://127.0.0.1:8000/api/create-poll/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({\"title\":e.target.querySelector(\"#form-title\").value,\"option1\":e.target.querySelector(\"#form-option1\").value,\"option2\":e.target.querySelector(\"#form-option2\").value})}).then(function(response){return response.json();}).then(function(data){_this4.setState({pollList:[].concat(Object(toConsumableArray[\"a\" /* default */])(_this4.state.pollList),[data])});});}},{key:\"render\",value:function render(){var _this5=this;var pollList=this.state.pollList;try{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[!localStorage.getItem('token')&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login-statement\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Log in to vote and create polls\"})}),localStorage.getItem('token')&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"poll-create\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Create a poll: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:this.handleSubmit,className:\"poll-form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{style:{flex:3},type:\"text\",id:\"form-title\",placeholder:\"Create a poll\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{style:{flex:3},type:\"text\",id:\"form-option1\",placeholder:\"Option 1\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{style:{flex:3},type:\"text\",id:\"form-option2\",placeholder:\"Option 2\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{style:{flex:1},type:\"submit\",id:\"form-submit\",placeholder:\"Submit\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"polls\",children:pollList.map(function(poll){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"poll\",id:pollList.indexOf(poll),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"poll-title\",children:poll[\"title\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"poll-options\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:_this5.handleClick,name:\"option1total\",className:\"poll-button\",disabled:!localStorage.getItem('token'),children:poll[\"option1\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:_this5.handleClick,name:\"option2total\",className:\"poll-button\",disabled:!localStorage.getItem('token'),children:poll[\"option2\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"poll-results\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Total votes: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"votes-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"votes\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:poll[\"option1total\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:poll[\"option2total\"]})]})})]})]});})})]});}catch(_unused){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Loading...\"});}}}]);return Polls;}(react_default.a.Component);/* harmony default export */ var components_Polls = (Polls_Polls);\n// CONCATENATED MODULE: ./src/pages/home.jsx\nfunction Home(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Navbar,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Polls,{})]});}/* harmony default export */ var home = (Home);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(16);\n\n// CONCATENATED MODULE: ./src/pages/register.jsx\nvar register_Register=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Register,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Register);function Register(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Register);_this=_super.call(this);_this.state={username:null,password:null,redirect:false,error:false};_this.handleSubmit=_this.handleSubmit.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.handleChange=_this.handleChange.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));return _this;}Object(createClass[\"a\" /* default */])(Register,[{key:\"handleSubmit\",value:function handleSubmit(e){var _this2=this;e.preventDefault();fetch('http://127.0.0.1:8000/api/users/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({\"username\":this.state.username,\"password\":this.state.password})}).then(function(response){return response.json();}).then(function(data){if(data.token){localStorage.setItem('token',data.token);_this2.setState({redirect:true});}else{_this2.setState({error:true});}});}},{key:\"handleChange\",value:function handleChange(e){e.preventDefault();this.setState(Object(defineProperty[\"a\" /* default */])({},e.target.name,e.target.value));}},{key:\"render\",value:function render(){if(this.state.redirect){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Navbar,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"register-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"REGISTER\"}),this.state.error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"register-error\",children:\"Username already exists!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"form-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:this.handleSubmit,className:\"register-form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"username\",onChange:this.handleChange,placeholder:\"Username\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",name:\"password\",onChange:this.handleChange,placeholder:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"register-form-submit\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"submit\",value:\"REGISTER\"})})]})})]})]});}}}]);return Register;}(react_default.a.Component);/* harmony default export */ var pages_register = (register_Register);\n// CONCATENATED MODULE: ./src/pages/login.jsx\nvar login_Login=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Login,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Login);function Login(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Login);_this=_super.call(this);_this.state={username:null,password:null,loggedin:false,error:false};_this.handleSubmit=_this.handleSubmit.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.handleChange=_this.handleChange.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));return _this;}Object(createClass[\"a\" /* default */])(Login,[{key:\"handleSubmit\",value:function handleSubmit(e){var _this2=this;e.preventDefault();fetch('http://127.0.0.1:8000/api/token-auth/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({\"username\":this.state.username,\"password\":this.state.password})}).then(function(response){return response.json();}).then(function(data){try{if(data.user.username){localStorage.setItem('token',data.token);localStorage.setItem('user',data.user.username);_this2.setState({loggedin:true});}}catch(_unused){_this2.setState({error:true});}});}},{key:\"handleChange\",value:function handleChange(e){e.preventDefault();this.setState(Object(defineProperty[\"a\" /* default */])({},e.target.name,e.target.value));}},{key:\"render\",value:function render(){if(this.state.loggedin){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Navbar,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"register-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"LOG IN\"}),this.state.error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"register-error\",children:\"Username already exists!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"form-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:this.handleSubmit,className:\"register-form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"username\",onChange:this.handleChange,placeholder:\"Username\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",name:\"password\",onChange:this.handleChange,placeholder:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"register-form-submit\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"submit\",value:\"LOG IN\"})})]})})]})]});}}}]);return Login;}(react_default.a.Component);/* harmony default export */ var login = (login_Login);\n// CONCATENATED MODULE: ./src/index.js\nvar loggedIn=localStorage.getItem('token')?true:false;react_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/\",component:home}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/register\",component:pages_register,children:loggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/login\",component:login,children:loggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"})})]})})}),document.getElementById('root'));\n\n/***/ })\n\n},[[38,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\Brand\\Dev\\VotingApp\\VotingApp\\frontend\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Brand\\Dev\\VotingApp\\VotingApp\\frontend\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Brand\\Dev\\VotingApp\\VotingApp\\frontend\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Brand\\Dev\\VotingApp\\VotingApp\\frontend\\src\\css\\polls.css","C:\\Users\\Brand\\Dev\\VotingApp\\VotingApp\\frontend\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Brand\\Dev\\VotingApp\\VotingApp\\frontend\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Brand\\Dev\\VotingApp\\VotingApp\\frontend\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Brand\\Dev\\VotingApp\\VotingApp\\frontend\\src\\css\\navbar.css","C:\\Users\\Brand\\Dev\\VotingApp\\VotingApp\\frontend\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Brand\\Dev\\VotingApp\\VotingApp\\frontend\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Brand\\Dev\\VotingApp\\VotingApp\\frontend\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Brand\\Dev\\VotingApp\\VotingApp\\frontend\\src\\css\\register.css","C:/Users/Brand/Dev/VotingApp/VotingApp/frontend/src/components/Navbar.js","C:/Users/Brand/Dev/VotingApp/VotingApp/frontend/src/components/Polls.js","C:/Users/Brand/Dev/VotingApp/VotingApp/frontend/src/pages/home.jsx","C:/Users/Brand/Dev/VotingApp/VotingApp/frontend/src/pages/register.jsx","C:/Users/Brand/Dev/VotingApp/VotingApp/frontend/src/pages/login.jsx","C:/Users/Brand/Dev/VotingApp/VotingApp/frontend/src/index.js"],"names":["Navbar","state","username","loggedIn","localStorage","getItem","handleLogout","bind","token","decodedToken","jwt_decode","setState","removeItem","React","Component","Polls","pollList","updatePoll","handleClick","handleSubmit","fetch","then","response","json","data","console","log","e","preventDefault","index","ReactDOM","findDOMNode","target","parentNode","getAttribute","poll","name","method","headers","body","JSON","stringify","polls","classList","add","nextElementSibling","buttons","querySelectorAll","forEach","button","disabled","querySelector","value","flex","map","indexOf","Home","Register","password","redirect","error","handleChange","setItem","Login","loggedin","user","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport jwt_decode from \"jwt-decode\"\r\n\r\nclass Navbar extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            username: null,\r\n            loggedIn: localStorage.getItem('token') ? true : false,\r\n        }\r\n        this.handleLogout = this.handleLogout.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.state.loggedIn) {\r\n            const token = localStorage.getItem('token')\r\n            const decodedToken = jwt_decode(token)\r\n            this.setState({ username: decodedToken[\"username\"] })\r\n        }\r\n    }\r\n\r\n    handleLogout() {\r\n        localStorage.removeItem('token')\r\n        this.setState({\r\n            loggedIn: false,\r\n            username: null,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const username = this.state.username\r\n        return (\r\n            <nav>\r\n                <Link to=\"/\">Home</Link>\r\n                {username ?\r\n                    <ul>\r\n                        <li>{username}</li>\r\n                        <li onClick={this.handleLogout}><Link>Log out</Link></li>\r\n                    </ul>\r\n                    :\r\n\r\n                    <ul>\r\n                        <li><Link to=\"/register\">Register</Link></li>\r\n                        <li><Link to=\"/login\">Log in</Link></li>\r\n                    </ul>\r\n                }\r\n            </nav>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Navbar","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nclass Polls extends React.Component {\n  constructor() {\n    super()\n    this.state = {\n      pollList: null,\n    }\n    this.updatePoll = this.updatePoll.bind(this)\n    this.handleClick = this.handleClick.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n\n  componentDidMount() {\n    fetch('http://127.0.0.1:8000/api/poll-list/')\n      .then(response => response.json())\n      .then(data => console.log(data))\n      .then(data =>\n        this.setState({ pollList: data }))\n  }\n\n  updatePoll(e) {\n    e.preventDefault()\n    const index = ReactDOM.findDOMNode(e.target).parentNode.parentNode.getAttribute(\"id\")\n    let poll = this.state.pollList[index]\n    poll[e.target.name] = poll[e.target.name] + 1\n    fetch(`http://127.0.0.1:8000/api/update/${poll[\"id\"]}/`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(poll)\n    })\n      .then(response => response.json())\n      .then(data => {\n        let polls = [...this.state.pollList]\n        polls[index] = data\n        this.setState({\n          pollList: polls\n        })\n      })\n  }\n\n  handleClick(e) {\n    this.updatePoll(e)\n    e.target.classList.add(\"active\")\n    console.log(e.target.nextElementSibling)\n    ReactDOM.findDOMNode(e.target).parentNode.parentNode.classList.add(\"voted\")\n    const buttons = ReactDOM.findDOMNode(e.target).parentNode.querySelectorAll('button')\n    buttons.forEach(button => button.disabled = true)\n  }\n\n  handleSubmit(e) {\n    e.preventDefault()\n    fetch('http://127.0.0.1:8000/api/create-poll/', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        \"title\": e.target.querySelector(\"#form-title\").value,\n        \"option1\": e.target.querySelector(\"#form-option1\").value,\n        \"option2\": e.target.querySelector(\"#form-option2\").value\n      })\n    })\n      .then(response => response.json())\n      .then(data => {\n        this.setState({\n          pollList: [...this.state.pollList, data]\n        })\n      })\n  }\n\n  render() {\n    const pollList = this.state.pollList\n    try {\n      return (\n        <div>\n          {!localStorage.getItem('token') &&\n            <div className=\"login-statement\">\n              <h1>Log in to vote and create polls</h1>\n            </div>\n          }\n          {localStorage.getItem('token') &&\n            <div className=\"poll-create\">\n              <h1>Create a poll: </h1>\n              <form onSubmit={this.handleSubmit} className=\"poll-form\">\n                <input style={{ flex: 3 }} type=\"text\" id=\"form-title\" placeholder=\"Create a poll\" />\n                <input style={{ flex: 3 }} type=\"text\" id=\"form-option1\" placeholder=\"Option 1\" />\n                <input style={{ flex: 3 }} type=\"text\" id=\"form-option2\" placeholder=\"Option 2\" />\n                <input style={{ flex: 1 }} type=\"submit\" id=\"form-submit\" placeholder=\"Submit\" />\n              </form>\n            </div>\n          }\n          <div className=\"polls\">\n            {pollList.map(poll => {\n              return (\n                <div className=\"poll\" id={pollList.indexOf(poll)}>\n                  <h1 className=\"poll-title\">{poll[\"title\"]}</h1>\n                  <div className=\"poll-options\">\n                    <button onClick={this.handleClick} name=\"option1total\" className=\"poll-button\" disabled={!localStorage.getItem('token')}>{poll[\"option1\"]}</button>\n                    <button onClick={this.handleClick} name=\"option2total\" className=\"poll-button\" disabled={!localStorage.getItem('token')}>{poll[\"option2\"]}</button>\n                  </div>\n                  <div className=\"poll-results\">\n                    <p>Total votes: </p>\n                    <div className=\"votes-container\">\n                      <div className=\"votes\">\n                        <p>{poll[\"option1total\"]}</p>\n                        <p>{poll[\"option2total\"]}</p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n        </div >\n      )\n    } catch {\n      return <h1>Loading...</h1>\n    }\n  }\n}\n\n\n\nexport default Polls;\n","import React from 'react'\r\nimport Navbar from '../components/Navbar'\r\nimport Polls from '../components/Polls'\r\n\r\nfunction Home() {\r\n    return (\r\n        <div>\r\n            <Navbar />\r\n            <Polls />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home","import React from 'react'\r\nimport Navbar from '../components/Navbar'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nclass Register extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            username: null,\r\n            password: null,\r\n            redirect: false,\r\n            error: false,\r\n        }\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault()\r\n        fetch('http://127.0.0.1:8000/api/users/', {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n                \"username\": this.state.username,\r\n                \"password\": this.state.password,\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data.token) {\r\n                    localStorage.setItem('token', data.token)\r\n                    this.setState({ redirect: true })\r\n                } else {\r\n                    this.setState({ error: true })\r\n                }\r\n            })\r\n    }\r\n\r\n    handleChange(e) {\r\n        e.preventDefault()\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.redirect) {\r\n            return <Redirect to='/' />\r\n        } else {\r\n            return (\r\n                <div>\r\n                    <Navbar />\r\n                    <div className=\"register-container\">\r\n                        <h1>REGISTER</h1>\r\n                        {this.state.error &&\r\n                            <h2 className=\"register-error\">Username already exists!</h2>\r\n                        }\r\n                        <div className=\"form-container\">\r\n                            <form onSubmit={this.handleSubmit} className=\"register-form\">\r\n                                <input type=\"text\" name=\"username\" onChange={this.handleChange} placeholder=\"Username\" />\r\n                                <input type=\"password\" name=\"password\" onChange={this.handleChange} placeholder=\"Password\" />\r\n                                <div className=\"register-form-submit\">\r\n                                    <input type=\"submit\" value=\"REGISTER\" />\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default Register","import React from 'react'\r\nimport Navbar from '../components/Navbar'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nclass Login extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            username: null,\r\n            password: null,\r\n            loggedin: false,\r\n            error: false,\r\n        }\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault()\r\n        fetch('http://127.0.0.1:8000/api/token-auth/', {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n                \"username\": this.state.username,\r\n                \"password\": this.state.password,\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                try {\r\n                    if (data.user.username) {\r\n                        localStorage.setItem('token', data.token)\r\n                        localStorage.setItem('user', data.user.username)\r\n                        this.setState({ loggedin: true })\r\n                    }\r\n                } catch {\r\n                    this.setState({ error: true })\r\n                }\r\n            })\r\n    }\r\n\r\n    handleChange(e) {\r\n        e.preventDefault()\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loggedin) {\r\n            return <Redirect to='/' />\r\n        } else {\r\n            return (\r\n                <div>\r\n                    <Navbar />\r\n                    <div className=\"register-container\">\r\n                        <h1>LOG IN</h1>\r\n                        {this.state.error &&\r\n                            <h2 className=\"register-error\">Username already exists!</h2>\r\n                        }\r\n                        <div className=\"form-container\">\r\n                            <form onSubmit={this.handleSubmit} className=\"register-form\">\r\n                                <input type=\"text\" name=\"username\" onChange={this.handleChange} placeholder=\"Username\" />\r\n                                <input type=\"password\" name=\"password\" onChange={this.handleChange} placeholder=\"Password\" />\r\n                                <div className=\"register-form-submit\">\r\n                                    <input type=\"submit\" value=\"LOG IN\" />\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default Login","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './css/polls.css'\nimport './css/navbar.css'\nimport './css/register.css'\nimport {\n  BrowserRouter,\n  Route,\n  Switch,\n  Redirect\n} from \"react-router-dom\"\nimport Home from './pages/home'\nimport Register from './pages/register'\nimport Login from './pages/login'\n\nconst loggedIn = localStorage.getItem('token') ? true : false\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/register\" component={Register}>\n          {loggedIn && <Redirect to=\"/\" />}\n        </Route>\n        <Route exact path=\"/login\" component={Login}>\n          {loggedIn && <Redirect to=\"/\" />}\n        </Route>\n      </Switch>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"]}}